(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_tool-form-form"],{"1de7":function(t,e,a){"use strict";a.r(e);var i=a("6900"),n=a.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);e["default"]=n.a},"5ac4":function(t,e,a){"use strict";a.r(e);var i=a("6273"),n=a("1de7");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("d01b");var o=a("f0c5"),s=Object(o["a"])(n["default"],i["b"],i["c"],!1,null,"5995a330",null,!1,i["a"],void 0);e["default"]=s.exports},6273:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i}));var i={pageMeta:a("6d42").default,nsForm:a("9ea5").default,nsEmpty:a("7fc0").default,loadingCover:a("ed27").default,nsLogin:a("3423").default},n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",[a("page-meta",{attrs:{"page-style":t.themeColor}}),a("v-uni-view",[t.detail?a("v-uni-scroll-view",{staticClass:"page",attrs:{"scroll-y":!0}},[a("v-uni-view",{staticClass:"form-banner"},[a("v-uni-image",{attrs:{src:t.$util.img("public/uniapp/form/banner.png"),mode:"widthFix"}})],1),a("v-uni-view",{staticClass:"system-form-wrap"},[a("v-uni-view",{staticClass:"form-title"},[t._v("请填写表单所需信息")]),a("ns-form",{ref:"form",attrs:{data:t.detail.json_data}}),a("v-uni-button",{staticClass:"button",attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.create()}}},[t._v("提交")])],1)],1):a("ns-empty",{attrs:{text:t.complete?"提交成功":"未获取到表单信息"}}),a("loading-cover",{ref:"loadingCover"}),a("ns-login",{ref:"login"})],1)],1)},r=[]},6900:function(t,e,a){"use strict";a("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("d3b7"),a("159b"),a("c975"),a("e9c4");var i={data:function(){return{id:0,detail:null,isRepeat:!1,complete:!1}},onLoad:function(t){var e=this;if(this.id=t.id||0,t.scene){var a=decodeURIComponent(t.scene);a=a.split("&"),a.length&&a.forEach((function(t){-1!=t.indexOf("id")&&(e.id=t.split("-")[1])}))}uni.getStorageSync("token")?this.getData():setTimeout((function(){e.$refs.login.open("/pages_tool/form/form?id="+e.id)}))},watch:{storeToken:function(t,e){t&&this.getData()}},methods:{getData:function(){var t=this;this.$api.sendRequest({url:"/form/api/form/info",data:{form_id:this.id},success:function(e){0==e.code&&e.data&&(t.detail=e.data),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},create:function(){var t=this;if(this.$refs.form.verify()){if(this.isRepeat)return;this.isRepeat=!0,this.$api.sendRequest({url:"/form/api/form/create",data:{form_id:this.id,form_data:JSON.stringify(this.$refs.form.formData)},success:function(e){0==e.code?(t.$util.showToast({title:"提交成功"}),setTimeout((function(){t.complete=!0,t.detail=null}),1500)):(t.isRepeat=!1,t.$util.showToast({title:e.message}))}})}}}};e.default=i},"6e31":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n */.page[data-v-5995a330]{width:100vw;height:100vh}.form-banner[data-v-5995a330]{width:100vw;line-height:1}.form-banner uni-image[data-v-5995a330]{width:100%;line-height:1}.system-form-wrap[data-v-5995a330]{background:#f8f8f8;border-radius:%?32?%;overflow:hidden;margin:0 0 %?60?% 0;padding:0 %?26?%;-webkit-transform:translateY(%?-40?%);transform:translateY(%?-40?%)}.system-form-wrap .form-title[data-v-5995a330]{line-height:%?100?%;padding-top:%?20?%}.system-form-wrap .button[data-v-5995a330]{height:%?80?%;line-height:%?80?%!important;margin-top:%?30?%!important;width:100%;border-radius:%?80?%}.system-form-wrap[data-v-5995a330] .form-wrap{background:#fff;padding:%?30?%;border-radius:%?32?%}',""]),t.exports=e},d01b:function(t,e,a){"use strict";var i=a("f415"),n=a.n(i);n.a},f415:function(t,e,a){var i=a("6e31");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("dc285472",i,!0,{sourceMap:!1,shadowMode:!1})}}]);