(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_tool-goods-brand"],{"170b":function(t,e,n){var i=n("d47a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("206ec8df",i,!0,{sourceMap:!1,shadowMode:!1})},"1fba":function(t,e,n){"use strict";var i=n("5851"),a=n.n(i);a.a},"21c2":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.advList.length?n("v-uni-view",{class:["container-box",t.className]},[t.advList.length>1?n("v-uni-swiper",{staticClass:"item-wrap",style:{height:t.swiperHeight+"px"},attrs:{"indicator-dots":t.advList.length>1,"indicator-active-color":"#ffffff",autoplay:!0,interval:3e3,duration:1e3,current:t.currentIndex},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeSwiper.apply(void 0,arguments)}}},t._l(t.advList,(function(e,i){return n("v-uni-swiper-item",{key:i,on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.jumppage(e.adv_url)}}},[n("v-uni-view",{staticClass:"image-box"},[n("v-uni-image",{attrs:{src:t.$util.img(e.adv_image),mode:"widthFix",id:"content-wrap"+i}})],1)],1)})),1):n("v-uni-view",{staticClass:"container-box item-wrap"},[n("v-uni-image",{attrs:{src:t.$util.img(t.advList[0]["adv_image"]),mode:"widthFix","lazy-load":"true"},on:{load:function(e){arguments[0]=e=t.$handleEvent(e),t.imageLoad.apply(void 0,arguments)},click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumppage(t.advList[0].adv_url)}}})],1)],1):t._e()},a=[]},"23b2":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i}));var i={nsAdv:n("94e2").default,uniGrid:n("6a52").default,uniGridItem:n("946c").default,nsEmpty:n("7fc0").default,loadingCover:n("ed27").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{attrs:{"data-theme":t.themeStyle}},[n("mescroll-uni",{ref:"mescroll",attrs:{size:"20"},on:{getData:function(e){arguments[0]=e=t.$handleEvent(e),t.getBrandList.apply(void 0,arguments)}}},[n("template",{attrs:{slot:"list"},slot:"list"},[n("ns-adv",{attrs:{keyword:"NS_BRAND","class-name":"adv-wrap"}}),t.brandList.length>0?n("v-uni-view",{staticClass:"brand-content"},[n("uni-grid",{attrs:{column:3,showBorder:!1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},t._l(t.brandList,(function(e,i){return n("uni-grid-item",{key:i,attrs:{index:"index"}},[n("v-uni-image",{staticClass:"brand-pic",attrs:{src:t.$util.img(e.image_url),mode:"widthFix"}}),n("v-uni-view",{staticClass:"brand_name"},[t._v(t._s(e.brand_name))])],1)})),1)],1):t._e(),0==t.brandList.length?n("v-uni-view",[n("ns-empty",{attrs:{text:"暂无更多品牌,去首页看看吧"}})],1):t._e()],1)],2),n("loading-cover",{ref:"loadingCover"})],1)},r=[]},"2d2f":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("ac1f");var i={name:"ns-advert",props:{keyword:{type:String},className:{type:String}},data:function(){return{advList:[],isImage:!1,swiperHeight:150,currentIndex:0}},created:function(){this.getAdvList()},methods:{getAdvList:function(){var t=this;this.$api.sendRequest({url:"/api/adv/detail",data:{keyword:this.keyword},success:function(e){if(0==e.code){var n=e.data.adv_list;for(var i in n)n[i].adv_url&&(n[i].adv_url=JSON.parse(n[i].adv_url));t.advList=e.data.adv_list,t.$nextTick((function(){t.setSwiperHeight()}))}}})},jumppage:function(t){this.$util.diyRedirectTo(t)},imageLoad:function(t){this.isImage=!0},changeSwiper:function(t){var e=this;this.currentIndex=t.detail.current,this.$nextTick((function(){e.setSwiperHeight()}))},setSwiperHeight:function(){var t=this;this.advList.length>1&&setTimeout((function(){var e="#content-wrap"+t.currentIndex,n=uni.createSelectorQuery().in(t);n.select(e).boundingClientRect(),n.exec((function(e){e&&e[0]&&(t.swiperHeight=e[0].height)}))}),10)}}};e.default=i},5851:function(t,e,n){var i=n("795f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("4f06").default;a("2f89dd41",i,!0,{sourceMap:!1,shadowMode:!1})},6249:function(t,e,n){"use strict";n.r(e);var i=n("7c3f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"6ca1":function(t,e,n){"use strict";n.r(e);var i=n("2d2f"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=a.a},"795f":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n */.container-box[data-v-2add5f21]{width:100%}.container-box .item-wrap[data-v-2add5f21]{border-radius:%?10?%}.container-box .item-wrap .image-box[data-v-2add5f21]{border-radius:%?10?%}.container-box .item-wrap uni-image[data-v-2add5f21]{width:100%;height:auto;border-radius:%?10?%;will-change:transform}',""]),t.exports=e},"7c3f":function(t,e,n){"use strict";n("7a82");var i=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("99af");var a=i(n("6a52")),r=i(n("946c")),d=i(n("94e2")),s={components:{uniGrid:a.default,uniGridItem:r.default,nsAdv:d.default},data:function(){return{brandList:[],siteId:0}},onLoad:function(t){t.site_id&&(this.siteId=t.site_id)},onShow:function(){},methods:{change:function(t){this.$util.redirectTo("/pages/goods/list",{brand_id:this.brandList[t.detail.index].brand_id})},getBrandList:function(t){var e=this;this.$api.sendRequest({url:"/api/goodsbrand/page",data:{page_size:t.size,page:t.num,site_id:this.siteId},success:function(n){var i=[],a=n.message;0==n.code&&n.data?i=n.data.list:e.$util.showToast({title:a}),t.endSuccess(i.length),1==t.num&&(e.brandList=[]),e.brandList=e.brandList.concat(i),e.$refs.loadingCover&&e.$refs.loadingCover.hide()},fail:function(){t.endErr(),this.$refs.loadingCover&&this.$refs.loadingCover.hide()}})}},onShareAppMessage:function(t){return{title:"你想要的大牌都在这里",path:"/pages_tool/goods/brand",success:function(t){},fail:function(t){}}}};e.default=s},9427:function(t,e,n){"use strict";var i=n("170b"),a=n.n(i);a.a},"94e2":function(t,e,n){"use strict";n.r(e);var i=n("21c2"),a=n("6ca1");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("1fba");var d=n("f0c5"),s=Object(d["a"])(a["default"],i["b"],i["c"],!1,null,"2add5f21",null,!1,i["a"],void 0);e["default"]=s.exports},d47a:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n */[data-v-7b8566c4] .uni-grid-item{width:calc((100vw - (%?30?% * 2)) / 3)!important}.adv-wrap[data-v-7b8566c4]{margin:%?20?% %?30?%;width:auto}.brand-content[data-v-7b8566c4]{padding:%?20?% 0;box-sizing:border-box;background:#fff;margin:%?20?% %?30?% 0}.brand-content .brand-pic[data-v-7b8566c4]{width:60%;height:50%}.brand-content .brand_name[data-v-7b8566c4]{width:70%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:center}',""]),t.exports=e},eeccc:function(t,e,n){"use strict";n.r(e);var i=n("23b2"),a=n("6249");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("9427");var d=n("f0c5"),s=Object(d["a"])(a["default"],i["b"],i["c"],!1,null,"7b8566c4",null,!1,i["a"],void 0);e["default"]=s.exports}}]);