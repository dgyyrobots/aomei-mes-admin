(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-cart~pages-goods-detail~pages-order-detail~pages-order-detail_point~pages_promotion-divi~5d271b94"],{2395:function(t,o,i){"use strict";i.d(o,"b",(function(){return s})),i.d(o,"c",(function(){return a})),i.d(o,"a",(function(){return e}));var e={diyIcon:i("6e84").default,nsLoading:i("494c").default},s=function(){var t=this,o=t.$createElement,i=t._self._c||o;return t.list.length?i("v-uni-view",{staticClass:"goods-recommend"},[i("v-uni-view",{staticClass:"goods-recommend-title"},[i("v-uni-text",{staticClass:"title"},[t._v(t._s(t.config.title))])],1),i("v-uni-view",{staticClass:"goods-list double-column"},t._l(t.list,(function(o,e){return i("v-uni-view",{key:e,staticClass:"goods-item margin-bottom",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toDetail(o)}}},[i("v-uni-view",{staticClass:"goods-img"},[i("v-uni-image",{attrs:{src:t.goodsImg(o.goods_image),mode:"widthFix","lazy-load":!0},on:{error:function(o){arguments[0]=o=t.$handleEvent(o),t.imgError(e)}}}),""!=t.goodsTag(o)?i("v-uni-view",{staticClass:"color-base-bg goods-tag"},[t._v(t._s(t.goodsTag(o)))]):t._e()],1),i("v-uni-view",{staticClass:"info-wrap"},[i("v-uni-view",{staticClass:"name-wrap"},[i("v-uni-view",{staticClass:"goods-name"},[t._v(t._s(o.goods_name))])],1),i("v-uni-view",{staticClass:"lineheight-clear"},[i("v-uni-view",{staticClass:"discount-price"},[i("v-uni-text",{staticClass:"unit price-style small"},[t._v(t._s(t.$lang("common.currencySymbol")))]),i("v-uni-text",{staticClass:"price price-style large"},[t._v(t._s(parseFloat(t.showPrice(o)).toFixed(2).split(".")[0]))]),i("v-uni-text",{staticClass:"unit price-style small"},[t._v("."+t._s(parseFloat(t.showPrice(o)).toFixed(2).split(".")[1]))])],1),o.member_price&&o.member_price==t.showPrice(o)?i("v-uni-view",{staticClass:"member-price-tag"},[i("v-uni-image",{attrs:{src:t.$util.img("public/uniapp/index/VIP.png"),mode:"widthFix"}})],1):1==o.promotion_type?i("v-uni-view",{staticClass:"member-price-tag"},[i("v-uni-image",{attrs:{src:t.$util.img("public/uniapp/index/discount.png"),mode:"widthFix"}})],1):t._e(),t.showMarketPrice(o)?i("v-uni-view",{staticClass:"delete-price font-size-activity-tag color-tip price-font"},[i("v-uni-text",{staticClass:"unit"},[t._v(t._s(t.$lang("common.currencySymbol")))]),i("v-uni-text",[t._v(t._s(t.showMarketPrice(o)))])],1):t._e()],1),i("v-uni-view",{staticClass:"pro-info"},[i("v-uni-view",{staticClass:"block-wrap"},[o.sale_show?i("v-uni-view",{staticClass:"sale font-size-activity-tag color-tip"},[t._v("已售"+t._s(o.sale_num)+t._s(o.unit?o.unit:"件"))]):t._e()],1),t.config.control&&0==o.is_virtual?i("v-uni-view",{staticClass:"cart-action-wrap"},["icon-cart"==t.config.style?i("v-uni-view",{staticClass:"cart shopping-cart-btn iconfont icon-gouwuche click-wrap",style:{color:"diy"==t.config.theme?t.config.textColor:"",borderColor:"diy"==t.config.theme?t.config.textColor:""},attrs:{id:"goods-"+o.id},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.$refs.goodsSkuIndex.addCart(t.config.cartEvent,o,i)}}},[i("v-uni-view",{staticClass:"click-event"})],1):"icon-add"==t.config.style?i("v-uni-view",{staticClass:"cart plus-sign-btn iconfont icon-add1 click-wrap",style:{color:"diy"==t.config.theme?t.config.textColor:"",borderColor:"diy"==t.config.theme?t.config.textColor:""},attrs:{id:"goods-"+o.id},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.$refs.goodsSkuIndex.addCart(t.config.cartEvent,o,i)}}},[i("v-uni-view",{staticClass:"click-event"})],1):"button"==t.config.style?i("v-uni-view",{staticClass:"cart buy-btn click-wrap",style:{backgroundColor:"diy"==t.config.theme?t.config.bgColor:"",color:"diy"==t.config.theme?t.config.textColor:"",fontWeight:"diy"==t.config.theme?t.config.fontWeight?"bold":"normal":"",padding:"diy"==t.config.theme?"12rpx "+2*t.config.padding+"rpx":""},attrs:{id:"goods-"+o.id},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.$refs.goodsSkuIndex.addCart(t.config.cartEvent,o,i)}}},[t._v(t._s(t.config.text)),i("v-uni-view",{staticClass:"click-event"})],1):"icon-diy"==t.config.style?i("v-uni-view",{staticClass:"icon-diy click-wrap",style:{color:"diy"==t.config.theme?t.config.textColor:""},attrs:{id:"goods-"+o.id},on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.$refs.goodsSkuIndex.addCart(t.config.cartEvent,o,i)}}},[i("v-uni-view",{staticClass:"click-event"}),i("diy-icon",{attrs:{icon:t.config.iconDiy.icon,value:t.config.iconDiy.style?t.config.iconDiy.style:null}})],1):t._e()],1):t._e()],1)],1)],1)})),1),t.showLoading&&t.load?i("v-uni-view",{staticClass:"circle-box"},[i("ns-loading")],1):t._e(),i("ns-goods-sku-index",{ref:"goodsSkuIndex",on:{cartListChange:function(o){arguments[0]=o=t.$handleEvent(o),t.cartListChange.apply(void 0,arguments)},addCart:function(o){arguments[0]=o=t.$handleEvent(o),t.addCart.apply(void 0,arguments)}}})],1):t._e()},a=[]},"2a3d":function(t,o,i){"use strict";var e=i("b6bf"),s=i.n(e);s.a},"42fc":function(t,o,i){"use strict";i.r(o);var e=i("2395"),s=i("ce95");for(var a in s)["default"].indexOf(a)<0&&function(t){i.d(o,t,(function(){return s[t]}))}(a);i("2a3d");var n=i("f0c5"),d=Object(n["a"])(s["default"],e["b"],e["c"],!1,null,"1b25ba36",null,!1,e["a"],void 0);o["default"]=d.exports},6214:function(t,o,i){"use strict";i.d(o,"b",(function(){return s})),i.d(o,"c",(function(){return a})),i.d(o,"a",(function(){return e}));var e={nsLogin:i("3423").default,nsGoodsSku:i("0746").default},s=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("v-uni-view",{staticClass:"goods-sku"},[i("ns-login",{ref:"login"}),t.goodsDetail.goods_id?i("ns-goods-sku",{ref:"goodsSku",attrs:{"goods-id":t.goodsDetail.goods_id,"goods-detail":t.goodsDetail,"max-buy":t.goodsDetail.max_buy,"min-buy":t.goodsDetail.min_buy},on:{refresh:function(o){arguments[0]=o=t.$handleEvent(o),t.refreshGoodsSkuDetail.apply(void 0,arguments)}}}):t._e()],1)},a=[]},"65c4":function(t,o,i){"use strict";i("7a82"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={name:"diy-icon",props:{icon:{type:String,default:""},value:{type:Object,default:function(){return null}}},computed:{iconClass:function(){var t=" "+this.icon;return this.value&&this.value.iconColor.length>1&&(t+=" gradient"),t},iconBgStyle:function(){if(!this.value)return{};var t={"border-radius":this.value.bgRadius+"%",background:""};return this.value.iconBgImg&&(t["background"]+="url("+this.$util.img(this.value.iconBgImg)+") no-repeat bottom / contain"),this.value.iconBgColor.length&&(t.background&&(t.background+=","),1==this.value.iconBgColor.length?t.background+=this.value.iconBgColor[0]:t["background"]+="linear-gradient("+this.value.iconBgColorDeg+"deg, "+this.value.iconBgColor.join(",")+")"),this.$util.objToStyle(t)},iconStyle:function(){if(!this.value)return{};var t={"font-size":this.value.fontSize+"%"};return 1==this.value.iconColor.length?t.color=this.value.iconColor[0]:t["background"]="linear-gradient("+this.value.iconColorDeg+"deg, "+this.value.iconColor.join(",")+")",this.$util.objToStyle(t)}}};o.default=e},"686b":function(t,o,i){var e=i("24fb");o=e(!1),o.push([t.i,'@charset "UTF-8";\n/**\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n */.diy-icon[data-v-5543a75a]{width:100%;height:100%;font-size:100%;color:#000;display:flex;align-items:center;justify-content:center}.diy-icon .js-icon[data-v-5543a75a]{font-size:50%;line-height:1;padding:%?1?%}.diy-icon .js-icon.gradient[data-v-5543a75a]{-webkit-background-clip:text!important;-webkit-text-fill-color:transparent}',""]),t.exports=o},"6e84":function(t,o,i){"use strict";i.r(o);var e=i("a160"),s=i("ee43");for(var a in s)["default"].indexOf(a)<0&&function(t){i.d(o,t,(function(){return s[t]}))}(a);i("e113");var n=i("f0c5"),d=Object(n["a"])(s["default"],e["b"],e["c"],!1,null,"5543a75a",null,!1,e["a"],void 0);o["default"]=d.exports},"97d0":function(t,o,i){var e=i("24fb");o=e(!1),o.push([t.i,'@charset "UTF-8";\n/**\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n */.goods-recommend[data-v-1b25ba36]{margin-top:%?74?%;width:100vw}.goods-recommend .goods-recommend-title[data-v-1b25ba36]{text-align:center;margin-bottom:%?40?%}.goods-recommend .goods-recommend-title .title[data-v-1b25ba36]{font-size:%?30?%;font-weight:500;position:relative;color:#333}.goods-recommend .goods-recommend-title .title[data-v-1b25ba36]::before, .goods-recommend .goods-recommend-title .title[data-v-1b25ba36]::after{content:" ";width:%?80?%;border-top:%?2?% solid #969696;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.goods-recommend .goods-recommend-title .title[data-v-1b25ba36]::before{left:0;-webkit-transform:translateX(-130%);transform:translateX(-130%)}.goods-recommend .goods-recommend-title .title[data-v-1b25ba36]::after{right:0;-webkit-transform:translateX(130%);transform:translateX(130%)}.hr-view[data-v-1b25ba36]{display:flex;justify-content:center;align-items:center;max-width:100%;box-sizing:initial;font-size:%?32?%}.hr-view .hr[data-v-1b25ba36]{width:36%;height:%?2?%;background:#e5e5e5}.hr-view .title[data-v-1b25ba36]{padding:0 %?20?%}.goods-list.double-column[data-v-1b25ba36]{display:flex;justify-content:space-between;flex-wrap:wrap;margin:0 %?24?%}.goods-list.double-column .goods-item[data-v-1b25ba36]{position:relative;background-color:#fff;width:calc(50% - %?10?%);margin-bottom:%?20?%;border-radius:%?10?%}.goods-list.double-column .goods-item[data-v-1b25ba36]:nth-child(2n){margin-right:0}.goods-list.double-column .goods-item .goods-img[data-v-1b25ba36]{position:relative;overflow:hidden;padding-top:100%;border-top-left-radius:%?10?%;border-top-right-radius:%?10?%}.goods-list.double-column .goods-item .goods-img uni-image[data-v-1b25ba36]{width:100%;position:absolute;top:0;bottom:0;left:0;right:0}.goods-list.double-column .goods-item .goods-tag[data-v-1b25ba36]{color:#fff;line-height:1;padding:%?8?% %?16?%;position:absolute;border-bottom-right-radius:%?10?%;top:0;left:0;font-size:%?22?%}.goods-list.double-column .goods-item .goods-tag-img[data-v-1b25ba36]{position:absolute;border-top-left-radius:%?10?%;width:%?80?%;height:%?80?%;top:0;left:0;z-index:5;overflow:hidden}.goods-list.double-column .goods-item .goods-tag-img uni-image[data-v-1b25ba36]{width:100%;height:100%}.goods-list.double-column .goods-item .info-wrap[data-v-1b25ba36]{padding:0 %?26?% %?26?% %?26?%}.goods-list.double-column .goods-item .goods-name[data-v-1b25ba36]{font-size:%?28?%;line-height:1.3;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin-top:%?20?%}.goods-list.double-column .goods-item .lineheight-clear[data-v-1b25ba36]{margin-top:%?16?%}.goods-list.double-column .goods-item .discount-price[data-v-1b25ba36]{display:inline-block;font-weight:700;line-height:1;color:var(--price-color)}.goods-list.double-column .goods-item .discount-price .unit[data-v-1b25ba36]{margin-right:%?6?%}.goods-list.double-column .goods-item .pro-info[data-v-1b25ba36]{display:flex;margin-top:auto;align-items:center}.goods-list.double-column .goods-item .pro-info .block-wrap[data-v-1b25ba36]{flex:1;line-height:1;margin-right:%?20?%}.goods-list.double-column .goods-item .pro-info .block-wrap .sale[data-v-1b25ba36]{font-size:%?24?%!important}.goods-list.double-column .goods-item .pro-info .cart-action-wrap[data-v-1b25ba36]{position:relative}.goods-list.double-column .goods-item .pro-info .cart-action-wrap .shopping-cart-btn[data-v-1b25ba36]{font-size:%?36?%;border:%?2?% solid var(--base-color);border-radius:50%;padding:%?10?%;color:var(--base-color);width:%?36?%;height:%?36?%;text-align:center;line-height:%?36?%}.goods-list.double-column .goods-item .pro-info .cart-action-wrap .plus-sign-btn[data-v-1b25ba36]{font-size:%?36?%;border:%?2?% solid var(--base-color);border-radius:50%;padding:%?10?%;color:var(--base-color);width:%?36?%;height:%?36?%;text-align:center;line-height:%?36?%}.goods-list.double-column .goods-item .pro-info .cart-action-wrap .buy-btn[data-v-1b25ba36]{color:#fff;background-color:var(--base-color);color:var(--btn-text-color);border-radius:%?50?%;font-size:%?24?%;padding:%?12?% %?30?%;line-height:1}.goods-list.double-column .goods-item .pro-info .cart-action-wrap .icon-diy[data-v-1b25ba36]{font-size:%?80?%}.goods-list.double-column .goods-item .delete-price[data-v-1b25ba36]{display:inline-block;margin-left:%?6?%;float:right}.goods-list.double-column .goods-item .delete-price .unit[data-v-1b25ba36]{margin-right:%?6?%}.goods-list.double-column .goods-item .delete-price uni-text[data-v-1b25ba36]{line-height:1;font-size:%?24?%!important}.goods-list.double-column .goods-item .member-price-tag[data-v-1b25ba36]{display:inline-block;width:%?60?%;line-height:1;margin-left:%?6?%}.goods-list.double-column .goods-item .member-price-tag uni-image[data-v-1b25ba36]{width:100%}',""]),t.exports=o},a160:function(t,o,i){"use strict";i.d(o,"b",(function(){return e})),i.d(o,"c",(function(){return s})),i.d(o,"a",(function(){}));var e=function(){var t=this.$createElement,o=this._self._c||t;return o("v-uni-view",{staticClass:"diy-icon",style:this.iconBgStyle},[o("v-uni-text",{staticClass:"js-icon",class:this.iconClass,style:this.iconStyle})],1)},s=[]},a741:function(t,o,i){"use strict";i("7a82");var e=i("4ea4").default;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,i("b64b"),i("d3b7"),i("159b"),i("e25e"),i("99af"),i("a9e3");var s=e(i("0746")),a={name:"ns-goods-sku-index",components:{nsGoodsSku:s.default},data:function(){return{cart:{},timeout:{},isRepeat:!1,goodsDetail:{}}},computed:{cartList:function(){return this.$store.state.cartList}},watch:{cartList:function(t){var o=this,i={},e=Object.keys(this.$store.state.cartList);e.length&&e.forEach((function(t){var e=o.$store.state.cartList[t];i&&i["goods_"+e.goods_id]?(i["goods_"+e.goods_id]["sku_"+e.sku_id]=e,i["goods_"+e.goods_id].num+=e.num):(i["goods_"+e.goods_id]={num:e.num},i["goods_"+e.goods_id]["sku_"+e.sku_id]=e)})),this.cart=i,this.$emit("cartListChange",i)}},created:function(){},methods:{addCart:function(t,o,i){if(uni.getStorageSync("token"))return"detail"==t||o.is_virtual?(this.$util.redirectTo("/pages/goods/detail",{goods_id:o.goods_id}),!1):void(o.goods_spec_format?this.multiSpecificationGoods(o):this.singleSpecificationGoods(o,i));this.$refs.login.open("/pages/index/index")},singleSpecificationGoods:function(t,o){var i=this,e=this.cart["goods_"+t.goods_id]&&this.cart["goods_"+t.goods_id]["sku_"+t.sku_id]?this.cart["goods_"+t.goods_id]["sku_"+t.sku_id]:null,s=e?e.num:0,a=e&&e.cart_id?"/api/cart/edit":"/api/cart/add",n=t.min_buy>0?t.min_buy:0,d=s>=n?s:n,r=d+1;r>parseInt(t.stock)?this.$util.showToast({title:"商品库存不足"}):t.is_limit&&t.max_buy&&r>parseInt(t.max_buy)?this.$util.showToast({title:"该商品每人限购"}):(e?this.cart["goods_"+t.goods_id]["sku_"+t.sku_id].num=r:(this.cart["goods_"+t.goods_id]||this.$set(this.cart,"goods_"+t.goods_id,{num:r}),this.cart["goods_"+t.goods_id]["sku_"+t.sku_id]||this.$set(this.cart["goods_"+t.goods_id],"sku_"+t.sku_id,{cart_id:e?e.cart_id:0,goods_id:t.goods_id,sku_id:t.sku_id,num:r}),this.$set(this.cart["goods_"+t.goods_id]["sku_"+t.sku_id],"num",r)),this.isRepeat||(this.isRepeat=!0,this.$emit("addCart",o.currentTarget.id),this.$api.sendRequest({url:a,data:{cart_id:e?e.cart_id:0,sku_id:t.sku_id,num:r},success:function(o){i.isRepeat=!1,0==o.code?(i.$util.showToast({title:"商品添加购物车成功"}),i.$store.commit("setCartChange"),e&&e.cart_id||i.$set(i.cart["goods_"+t.goods_id]["sku_"+t.sku_id],"cart_id",o.data),i.$store.dispatch("getCartNumber")):i.$util.showToast({title:o.message})}})))},multiSpecificationGoods:function(t){var o=this;this.$api.sendRequest({url:"/api/goodssku/getInfoForCategory",data:{sku_id:t.sku_id},success:function(t){if(t.code>=0){var i=t.data;i.unit=i.unit||"件",i.sku_images?i.sku_images=i.sku_images.split(","):i.sku_images=[],i.goods_spec_format&&i.goods_image&&(i.goods_image=i.goods_image.split(","),i.sku_images=i.goods_image.concat(i.sku_images)),i.sku_spec_format&&(i.sku_spec_format=JSON.parse(i.sku_spec_format)),i.goods_spec_format&&(i.goods_spec_format=JSON.parse(i.goods_spec_format)),1==i.promotion_type&&(i.discountTimeMachine=o.$util.countDown(i.end_time-t.timestamp)),1==i.promotion_type&&i.discountTimeMachine?i.member_price>0&&Number(i.member_price)<=Number(i.discount_price)?i.show_price=i.member_price:i.show_price=i.discount_price:i.member_price>0?i.show_price=i.member_price:i.show_price=i.price,o.goodsDetail=i,o.$nextTick((function(){o.$refs.goodsSku&&o.$refs.goodsSku.show("join_cart",(function(){o.$store.dispatch("getCartNumber"),setTimeout((function(){o.$store.commit("setCartChange")}),100)}))}))}}})},refreshGoodsSkuDetail:function(t){this.goodsDetail=Object.assign({},this.goodsDetail,t)}}};o.default=a},b6bf:function(t,o,i){var e=i("97d0");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("d36bfd08",e,!0,{sourceMap:!1,shadowMode:!1})},c389:function(t,o,i){"use strict";i.r(o);var e=i("a741"),s=i.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){i.d(o,t,(function(){return e[t]}))}(a);o["default"]=s.a},ce95:function(t,o,i){"use strict";i.r(o);var e=i("fd1b"),s=i.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){i.d(o,t,(function(){return e[t]}))}(a);o["default"]=s.a},d6f9:function(t,o,i){var e=i("686b");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var s=i("4f06").default;s("6b0a34e9",e,!0,{sourceMap:!1,shadowMode:!1})},df74:function(t,o,i){"use strict";i.r(o);var e=i("6214"),s=i("c389");for(var a in s)["default"].indexOf(a)<0&&function(t){i.d(o,t,(function(){return s[t]}))}(a);var n=i("f0c5"),d=Object(n["a"])(s["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],void 0);o["default"]=d.exports},e113:function(t,o,i){"use strict";var e=i("d6f9"),s=i.n(e);s.a},ee43:function(t,o,i){"use strict";i.r(o);var e=i("65c4"),s=i.n(e);for(var a in e)["default"].indexOf(a)<0&&function(t){i.d(o,t,(function(){return e[t]}))}(a);o["default"]=s.a},fd1b:function(t,o,i){"use strict";i("7a82");var e=i("4ea4").default;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,i("a9e3"),i("d3b7"),i("99af"),i("acd8");var s=e(i("494c")),a=e(i("df74")),n={name:"ns-goods-recommend",components:{nsLoading:s.default,nsGoodsSkuIndex:a.default},data:function(){return{list:[],config:{title:"猜你喜欢",sources:"sort",supportPage:[],goodsIds:[],fontWeight:!1,padding:0,cartEvent:"detail",text:"购买",textColor:"#FFFFFF",theme:"default",aroundRadius:25,control:!0,bgColor:"#FF6A00",style:"button",iconDiy:{iconType:"icon",icon:"",style:{fontSize:"60",iconBgColor:[],iconBgColorDeg:0,iconBgImg:"",bgRadius:0,iconColor:["#000000"],iconColorDeg:0}}},page:1,isAll:!0,isClick:!0,showLoading:!1}},props:{isLike:{type:Boolean,default:!0},size:{type:[Number,String],default:10},auto:{type:Boolean,default:!0},load:{type:Boolean,default:!0},route:{type:String,default:""}},mounted:function(){this.auto&&this.getLikeList()},methods:{init:function(){this.list=[],this.page=1},toDetail:function(t){var o={goods_id:t.goods_id};this.$util.redirectTo("/pages/goods/detail",o)},getLikeList:function(t){var o=this,i=this;if(this.isClick&&this.isAll)return this.isClick=!1,this.page>1&&(this.showLoading=!0),new Promise((function(e,s){i.$api.sendRequest({url:"/api/goodssku/recommend",data:{page:o.page,page_size:o.auto?o.size:t,route:o.route},success:function(t){o.showLoading=!1,o.isClick=!0,0==t.code&&(1==o.page&&(o.list=[]),o.config=t.data.config,o.list=o.list.concat(t.data.list),o.list.length==t.data.count&&(o.isAll=!1),o.page+=1,e(t.data.list))}})}))},goodsImg:function(t){var o=t.split(",");return o[0]?this.$util.img(o[0],{size:"mid"}):this.$util.getDefaultImage().goods},imgError:function(t){this.list[t].goods_image=this.$util.getDefaultImage().goods},showPrice:function(t){var o=t.discount_price;return t.member_price&&parseFloat(t.member_price)<parseFloat(o)&&(o=t.member_price),o},showMarketPrice:function(t){if(t.market_price_show){var o=this.showPrice(t);if(t.market_price>0)return t.market_price;if(parseFloat(t.price)>parseFloat(o))return t.price}return""},goodsTag:function(t){return t.label_name||""},cartListChange:function(t){"cart"==this.route&&uni.getStorageSync("token")&&this.$root.getCartData()},addCart:function(t){}}};o.default=n}}]);