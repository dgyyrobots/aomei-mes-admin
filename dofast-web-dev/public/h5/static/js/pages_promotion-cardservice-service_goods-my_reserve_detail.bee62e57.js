(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_promotion-cardservice-service_goods-my_reserve_detail"],{"013c":function(t,e,o){"use strict";o("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("c975"),o("a9e3"),o("ac1f"),o("5319"),o("acd8");var a={type:"scrolldone",target:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},currentTarget:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},detail:{}},i={props:{backgroundTextStyle:{type:String,default:"dark",validator:function(t){return-1!==["dark","light"].indexOf(t)}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created:function(){var t=this,e=getCurrentPages()[0];this.$pageVm=e.$vm||e,uni.onWindowResize((function(e){t.$emit("resize",e)})),this.$pageVm.$on("hook:onPageScroll",(function(e){t.$emit("scroll",e)})),this.$watch("backgroundTextStyle",(function(){t.setBackgroundTextStyle()})),this.$watch((function(){return[t.rootFontSize,t.pageStyle]}),(function(){t.setPageMeta()})),this.$watch((function(){return[t.backgroundColor,t.backgroundColorTop,t.backgroundColorBottom]}),(function(){t.setBackgroundColor()})),this.$watch((function(){return[t.scrollTop,t.scrollDuration]}),(function(){t.pageScrollTo()}))},beforeMount:function(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle()},mounted:function(){this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh:function(t,e){t.setStyle({pullToRefresh:{support:e,style:"Android"===plus.os.name?"circle":"default"}})},setPageMeta:function(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle:function(){},setBackgroundColor:function(){},pageScrollTo:function(){var t=this,e=String(this.scrollTop);if(-1!==e.indexOf("rpx")&&(e=uni.upx2px(e.replace("rpx",""))),e=parseFloat(e),!isNaN(e)){var o=function o(i){i.scrollTop===e&&(t.$pageVm.$off("hook:onPageScroll",o),t.$emit("scrolldone",a))};uni.pageScrollTo({scrollTop:e,duration:this.scrollDuration,success:function(){t.$pageVm.$on("hook:onPageScroll",o)}})}}}};e.default=i},"0d56":function(t,e,o){"use strict";var a=o("6334"),i=o.n(a);i.a},"32bc":function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return s})),o.d(e,"a",(function(){return a}));var a={pageMeta:o("6d42").default,uniPopup:o("4e20").default,nsLogin:o("3423").default},i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-uni-view",[o("page-meta",{attrs:{"page-style":t.themeColor}}),o("v-uni-view",{staticClass:"store-body"},[o("v-uni-view",{staticClass:"store-info"},[o("v-uni-view",{staticClass:"store"},[o("v-uni-view",{staticClass:"store-title"},[t._v("店铺名称")]),o("v-uni-view",{staticClass:"store-name"},[t._v(t._s(t.reserveDetail.store_name))])],1),o("v-uni-view",{staticClass:"store-map",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.mapRoute()}}},[o("img",{attrs:{src:t.$util.img("public/uniapp/cardservice/store_map.png")}})])],1)],1),o("v-uni-view",{staticClass:"goods-body"},[o("v-uni-view",{staticClass:"goods-list"},t._l(t.reserveDetail.item,(function(e,a){return o("v-uni-view",{key:a,staticClass:"goods-wrap"},[o("v-uni-view",{staticClass:"goods-img"},[o("v-uni-image",{attrs:{src:t.$util.img(e.sku_image),mode:"aspectFill","lazy-load":!0}})],1),o("v-uni-view",{staticClass:"goods-info"},[o("v-uni-view",{staticClass:"pro-info"},[o("v-uni-view",{staticClass:"goods-name"},[t._v(t._s(e.goods_name))])],1),o("v-uni-view",{staticClass:"pro-info-to"},[o("v-uni-view",{staticClass:"content"},[t._v("预约时间："+t._s(t.$util.timeStampTurnTime(t.reserveDetail.reserve_time)))])],1),o("v-uni-view",{staticClass:"pro-info-to"},[o("v-uni-view",{staticClass:"content"},[t._v("预约人数： 1")])],1),o("v-uni-view",{staticClass:"pro-info-to"},[o("v-uni-view",{staticClass:"content"},[t._v("服务人员："+t._s(e.username))])],1)],1)],1)})),1)],1),o("v-uni-view",{staticClass:"reserve-wrap"},[o("v-uni-view",{staticClass:"reserve-list"},[o("v-uni-view",{staticClass:"reserve-item"},[o("v-uni-text",{staticClass:"title"},[t._v("姓名")]),o("v-uni-text",{staticClass:"content"},[t._v(t._s(t.reserveDetail.nickname))])],1),o("v-uni-view",{staticClass:"reserve-item remark-item"},[o("v-uni-text",{staticClass:"title"},[t._v("备注")]),t.reserveDetail.remark?o("v-uni-text",[t._v(t._s(t.reserveDetail.remark))]):o("v-uni-text",[t._v("暂无备注")])],1)],1),"wait_confirm"==t.reserveDetail.reserve_state||"wait_to_store"==t.reserveDetail.reserve_state?o("v-uni-view",{staticClass:"tab-bar"},[o("v-uni-button",{staticClass:"reserve-btn",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel()}}},[t._v("取消预约")])],1):t._e(),o("v-uni-view",{on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[o("uni-popup",{ref:"storeMapPopup",attrs:{type:"bottom"}},[o("v-uni-view",{staticClass:"goods-coupon-popup-layer popup-layer store-map-popuo"},[o("v-uni-view",{staticClass:"head-wrap",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeStoreMapPopup()}}},[o("v-uni-text",[t._v("门店位置")]),o("v-uni-text",{staticClass:"iconfont icon-close"})],1),o("v-uni-view",{staticClass:"store-map"},[o("v-uni-map",{staticClass:"map",attrs:{latitude:t.reserveDetail.latitude,longitude:t.reserveDetail.longitude,markers:t.covers}})],1),o("v-uni-view",{staticClass:"button-box"},[o("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeStoreMapPopup()}}},[t._v("确定")])],1)],1)],1)],1),o("ns-login",{ref:"login"})],1)],1)},s=[]},"3a9b5":function(t,e,o){"use strict";o.r(e);var a=o("32bc"),i=o("cfaf");for(var s in i)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(s);o("0d56"),o("a0c5");var n=o("f0c5"),r=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,"3cca0418",null,!1,a["a"],void 0);e["default"]=r.exports},"4bca":function(t,e,o){"use strict";o("7a82");var a=o("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("a9e3");var i=a(o("fadd")),s={data:function(){return{reserveId:0,reserveDetail:{},covers:[],token:null}},onLoad:function(t){this.reserveId=t.reserve_id},onShow:function(){var t=this;this.isIphoneX=this.$util.uniappIsIPhoneX(),uni.getStorageSync("token")?this.token=uni.getStorageSync("token"):setTimeout((function(){t.$refs.login.open("/pages_promotion/cardservice/service_goods/my_reserve_detail?reserveId="+t.reserveId)})),this.getDetail()},methods:{getDetail:function(){var t=this;this.$api.sendRequest({url:"/store/api/reserve/detail",data:{reserve_id:this.reserveId},success:function(e){e.code>=0?t.reserveDetail=e.data:(t.$util.showToast({title:"未找到预约信息",mask:!0,duration:2e3}),setTimeout((function(){t.$util.redirectTo("/pages/index/index")}),2e3))}})},mapRoute:function(){i.default.openMap(Number(this.reserveDetail.latitude),Number(this.reserveDetail.longitude),this.reserveDetail.store_name,"gcj02")},cancel:function(){var t=this;uni.showModal({title:"提示",content:"您确定要取消该预约吗？",success:function(e){t.$api.sendRequest({url:"/store/api/reserve/cancel",data:{reserve_id:t.reserveId},success:function(e){0==e.code&&t.$util.redirectTo("/pages_promotion/cardservice/service_goods/my_reserve_list")}})}})}}};e.default=s},6334:function(t,e,o){var a=o("ece5");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("4f06").default;i("eeb68dfa",a,!0,{sourceMap:!1,shadowMode:!1})},"6d42":function(t,e,o){"use strict";o.r(e);var a=o("6ee6"),i=o("8f28");for(var s in i)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(s);var n=o("f0c5"),r=Object(n["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=r.exports},"6ee6":function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"c",(function(){return i})),o.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticStyle:{display:"none"}},[this._t("default")],2)},i=[]},"87d3":function(t,e,o){var a=o("24fb");e=a(!1),e.push([t.i,"[data-v-3cca0418] .uni-page{overflow:hidden}[data-v-3cca0418] .mescroll-upwarp{padding-bottom:%?100?%}",""]),t.exports=e},"8f28":function(t,e,o){"use strict";o.r(e);var a=o("013c"),i=o.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},a0c5:function(t,e,o){"use strict";var a=o("c710"),i=o.n(a);i.a},c710:function(t,e,o){var a=o("87d3");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=o("4f06").default;i("31b50bab",a,!0,{sourceMap:!1,shadowMode:!1})},c767:function(t,e,o){"use strict";o("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=52.35987755982988,i=3.141592653589793,s=6378245,n=.006693421622965943;function r(t,e){var o=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return o+=2*(20*Math.sin(6*t*i)+20*Math.sin(2*t*i))/3,o+=2*(20*Math.sin(e*i)+40*Math.sin(e/3*i))/3,o+=2*(160*Math.sin(e/12*i)+320*Math.sin(e*i/30))/3,o}function c(t,e){var o=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return o+=2*(20*Math.sin(6*t*i)+20*Math.sin(2*t*i))/3,o+=2*(20*Math.sin(t*i)+40*Math.sin(t/3*i))/3,o+=2*(150*Math.sin(t/12*i)+300*Math.sin(t/30*i))/3,o}function d(t,e){return t<72.004||t>137.8347||e<.8293||e>55.8271||!1}var l={bd09togcj02:function(t,e){var o=52.35987755982988,a=t-.0065,i=e-.006,s=Math.sqrt(a*a+i*i)-2e-5*Math.sin(i*o),n=Math.atan2(i,a)-3e-6*Math.cos(a*o),r=s*Math.cos(n),c=s*Math.sin(n);return[r,c]},gcj02tobd09:function(t,e){var o=Math.sqrt(t*t+e*e)+2e-5*Math.sin(e*a),i=Math.atan2(e,t)+3e-6*Math.cos(t*a),s=o*Math.cos(i)+.0065,n=o*Math.sin(i)+.006;return[s,n]},wgs84togcj02:function(t,e){if(d(t,e))return[t,e];var o=r(t-105,e-35),a=c(t-105,e-35),l=e/180*i,u=Math.sin(l);u=1-n*u*u;var f=Math.sqrt(u);o=180*o/(s*(1-n)/(u*f)*i),a=180*a/(s/f*Math.cos(l)*i);var v=e+o,g=t+a;return[g,v]},gcj02towgs84:function(t,e){if(d(t,e))return[t,e];var o=r(t-105,e-35),a=c(t-105,e-35),l=e/180*i,u=Math.sin(l);u=1-n*u*u;var f=Math.sqrt(u);return o=180*o/(s*(1-n)/(u*f)*i),a=180*a/(s/f*Math.cos(l)*i),mglat=e+o,mglng=t+a,[2*t-mglng,2*e-mglat]}};e.default=l},cfaf:function(t,e,o){"use strict";o.r(e);var a=o("4bca"),i=o.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(s);e["default"]=i.a},ece5:function(t,e,o){var a=o("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n */.reserve-wrap[data-v-3cca0418]{padding:%?24?%}.reserve-wrap .reserve-list[data-v-3cca0418]{margin-bottom:%?20?%;background-color:#fff;border-radius:%?18?%}.reserve-wrap .reserve-list .reserve-head[data-v-3cca0418]{height:%?100?%;line-height:%?100?%;font-weight:700;font-size:%?32?%;border-bottom:%?2?% solid #f2f2f2;padding:0 %?24?%}.reserve-wrap .reserve-list .reserve-item[data-v-3cca0418]{display:flex;align-items:center;padding:0 %?24?%;height:%?90?%}.reserve-wrap .reserve-list .reserve-item .title[data-v-3cca0418]{margin-right:%?20?%;width:%?160?%;font-size:%?26?%}.reserve-wrap .reserve-list .remark-item[data-v-3cca0418]{align-items:flex-start;padding-bottom:%?20?%;height:auto}.reserve-wrap .reserve-list .remark-item uni-text[data-v-3cca0418]{min-width:%?160?%}.reserve-wrap .tab-bar[data-v-3cca0418]{position:fixed;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:space-between;height:%?98?%;line-height:%?98?%;background-color:#fff;padding:0 %?30?%}.reserve-wrap .tab-bar .tab-bar-item[data-v-3cca0418]{display:flex;flex-direction:column;align-items:center;line-height:1}.reserve-wrap .tab-bar .tab-bar-item uni-text[data-v-3cca0418]:first-of-type{margin-bottom:%?6?%;font-size:%?40?%;font-weight:700}.reserve-wrap .tab-bar .tab-bar-item uni-text[data-v-3cca0418]:last-of-type{font-size:%?24?%}.reserve-wrap .tab-bar .reserve-btn[data-v-3cca0418]{margin:0;width:100%;background-color:var(--base-color);color:#fff;border-radius:%?50?%}.store-body[data-v-3cca0418]{padding:%?24?%;padding-bottom:%?0?%}.store-body .store-info[data-v-3cca0418]{display:flex;background-color:#fff;padding:%?30?% %?30?% %?30?% %?60?%}.store-body .store-info .store[data-v-3cca0418]{flex:1}.store-body .store-info .store-title[data-v-3cca0418]{font-size:%?26?%;font-weight:700;color:#000;margin-bottom:%?10?%}.store-body .store-info .store-map[data-v-3cca0418]{width:%?100?%;height:%?100?%}.store-body .store-info .store-map img[data-v-3cca0418]{width:100%;height:100%}.goods-body[data-v-3cca0418]{padding:%?24?%;padding-bottom:%?0?%}.goods-body .goods-list[data-v-3cca0418]{background-color:#fff}.goods-body .goods-list .goods-wrap[data-v-3cca0418]{display:flex;position:relative;padding:%?20?%}.goods-body .goods-list .goods-wrap[data-v-3cca0418]:last-of-type{margin-bottom:0}.goods-body .goods-list .goods-wrap .goods-img[data-v-3cca0418]{width:%?160?%;height:%?160?%;margin-right:%?20?%}.goods-body .goods-list .goods-wrap .goods-img uni-image[data-v-3cca0418]{width:100%;height:100%;border-radius:%?10?%}.goods-body .goods-list .goods-wrap .goods-info[data-v-3cca0418]{position:relative;max-width:calc(100% - %?180?%);display:flex;flex-direction:column}.goods-body .goods-list .goods-wrap .goods-info .goods-name[data-v-3cca0418]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;overflow:hidden;line-height:1.5;font-size:%?24?%;color:#303133;font-weight:700}.goods-body .goods-list .goods-wrap .goods-info .content[data-v-3cca0418]{font-size:%?24?%;color:#888}.goods-body .goods-list .goods-wrap .goods-info .goods-sub-section[data-v-3cca0418]{width:100%;line-height:1.3;display:flex;margin-top:%?14?%}.goods-body .goods-list .goods-wrap .goods-info .goods-sub-section .goods-price[data-v-3cca0418]{font-size:%?24?%;color:var(--price-color);flex:1;font-weight:700}.goods-body .goods-list .goods-wrap .goods-info .goods-sub-section .goods-num[data-v-3cca0418]{font-size:%?24?%;color:#909399;flex:1;text-align:right;line-height:1}.goods-body .goods-list .goods-wrap .goods-info .goods-sub-section .goods-num .iconfont[data-v-3cca0418]{font-size:%?24?%}.goods-body .goods-list .goods-wrap .goods-info .goods-sub-section .goods-type[data-v-3cca0418]{font-size:%?24?%}.goods-body .goods-list .goods-wrap .goods-info .goods-sub-section .unit[data-v-3cca0418]{font-size:%?24?%;margin-right:%?2?%}.goods-body .goods-list .goods-wrap .goods-info .goods-sub-section uni-view[data-v-3cca0418]{flex:1;line-height:1.3;display:flex;flex-direction:column}.goods-body .goods-list .goods-wrap .goods-info .goods-sub-section uni-view[data-v-3cca0418]:last-of-type{text-align:right}.goods-body .goods-list .goods-wrap .goods-info .goods-sub-section uni-view:last-of-type .iconfont[data-v-3cca0418]{line-height:1;font-size:%?24?%}.goods-body .goods-list .goods-wrap .goods-info .goods-action[data-v-3cca0418]{text-align:right}.goods-body .goods-list .goods-wrap .goods-info .goods-action .action-btn[data-v-3cca0418]{line-height:1;padding:%?14?% %?20?%;color:#303133;display:inline-block;border-radius:%?10?%;background:#fff;border:%?2?% solid #999;font-size:%?24?%;margin-left:%?10?%}',""]),t.exports=e},fadd:function(t,e,o){"use strict";o("7a82");var a=o("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,o("99af");var i=a(o("c767"));function s(t,e,o){uni.openLocation({latitude:t,longitude:e,name:o,fail:function(t){uni.showModal({content:"打开地图失败，请稍后重试"})}})}function n(t,e,o){switch(o){case"gcj02":return[t,e];case"bd09":return i.default.bd09togcj02(t,e);case"wgs84":return i.default.wgs84togcj02(t,e);default:return[t,e]}}var r={openMap:function(t,e,o){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"gcj02",i=n(e,t,a);s(i[1],i[0],o)}};e.default=r}}]);