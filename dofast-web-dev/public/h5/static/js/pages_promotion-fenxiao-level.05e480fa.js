(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_promotion-fenxiao-level"],{3079:function(e,t,i){"use strict";i.r(t);var a=i("e8a7"),o=i.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(n);t["default"]=o.a},"3bad":function(e,t,i){var a=i("e1929");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("cd642044",a,!0,{sourceMap:!1,shadowMode:!1})},"4bce":function(e,t,i){"use strict";var a=i("da6e"),o=i.n(a);o.a},"8a51":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={data:function(){return{fenxiaoWords:{}}},methods:{getFenxiaoWrods:function(){var e=this;this.$api.sendRequest({url:"/fenxiao/api/config/words",success:function(t){t.code>=0&&t.data&&(e.fenxiaoWords=t.data,uni.setStorageSync("fenxiaoWords",t.data))}})}},onShow:function(){uni.getStorageSync("fenxiaoWords")&&(this.fenxiaoWords=uni.getStorageSync("fenxiaoWords")),this.getFenxiaoWrods()}};t.default=a},da6e:function(e,t,i){var a=i("fb58");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var o=i("4f06").default;o("070a78df",a,!0,{sourceMap:!1,shadowMode:!1})},e1929:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n */.level-top[data-v-0c3fa770]{width:100%;height:%?40?%;position:relative}.level-top uni-image[data-v-0c3fa770]{width:100%;height:%?260?%;position:absolute}.level-swiper[data-v-0c3fa770]{width:100vw;height:%?270?%}.level-swiper .level-item[data-v-0c3fa770]{width:calc(100% - %?60?%);height:100%;display:flex;align-items:center;justify-content:center;margin:0 %?26?%}.level-swiper .level-item .level-wrap[data-v-0c3fa770]{width:100%;height:90%;background:#fff;border-radius:%?16?%;transition:all .5s;display:flex;flex-direction:column;padding:%?20?% %?30?%;box-sizing:border-box;position:relative}.level-swiper .level-item .not-unlocked[data-v-0c3fa770]{position:absolute;width:%?50?%;height:%?50?%;background:#4b4b4b;display:flex;align-items:center;justify-content:center;right:%?-1?%;top:%?-1?%;border-top-right-radius:%?16?%;border-bottom-left-radius:%?16?%}.level-swiper .level-item .not-unlocked .iconfont[data-v-0c3fa770]{color:#d3dee6}.level-swiper .level-item.curr[data-v-0c3fa770]{margin:0;width:100%}.level-swiper .level-item.curr .level-wrap[data-v-0c3fa770]{height:100%}.level-swiper .level-item .member-info[data-v-0c3fa770]{display:flex;align-items:center}.level-swiper .level-item .member-info .head-img[data-v-0c3fa770]{width:%?90?%;height:%?90?%;display:flex;align-items:center;justify-content:center;border-radius:50%;overflow:hidden}.level-swiper .level-item .member-info .head-img uni-image[data-v-0c3fa770]{width:100%;height:100%}.level-swiper .level-item .member-info .nickname[data-v-0c3fa770]{color:#fff;margin:0 %?20?%;font-size:%?28?%}.level-swiper .level-item .member-info .level-name[data-v-0c3fa770]{font-size:%?28?%;line-height:1;color:#fff;border:%?2?% solid #fff;padding:%?4?% %?10?%;border-radius:%?6?%;font-size:%?26?%;color:#f5f5f5}.level-swiper .level-item .level-rate[data-v-0c3fa770]{display:flex;margin-top:%?30?%}.level-swiper .level-item .level-rate .rate-item[data-v-0c3fa770]{text-align:left;flex:1}.level-swiper .level-item .level-rate .title[data-v-0c3fa770]{color:#f5f5f5;font-size:%?24?%}.level-swiper .level-item .level-rate .rate[data-v-0c3fa770]{margin-top:%?10?%;color:#fff;font-size:%?38?%;line-height:1}.level-swiper .level-item .level-rate .rate .percentage[data-v-0c3fa770]{font-size:%?28?%;margin-left:%?4?%}.level-swiper uni-swiper-item:nth-child(1) .level-wrap[data-v-0c3fa770]{background:linear-gradient(90deg,#9ba7b1,#d3dee6)}.level-swiper uni-swiper-item:nth-child(2) .level-wrap[data-v-0c3fa770]{background:linear-gradient(90deg,#f57e2a,#fad494)}.level-swiper uni-swiper-item:nth-child(3) .level-wrap[data-v-0c3fa770]{background:linear-gradient(90deg,#f85151,#f99)}.level-swiper uni-swiper-item:nth-child(4) .level-wrap[data-v-0c3fa770]{background:linear-gradient(90deg,#78b8b4,#afe6e2)}.level-swiper uni-swiper-item:nth-child(5) .level-wrap[data-v-0c3fa770]{background:linear-gradient(90deg,#4da1e1,#58cbf0)}.level-swiper uni-swiper-item:nth-child(6) .level-wrap[data-v-0c3fa770]{background:linear-gradient(90deg,#81c636,#d1f677)}.level-swiper uni-swiper-item:nth-child(7) .level-wrap[data-v-0c3fa770]{background:linear-gradient(90deg,#6d7279,#a5aab0)}.level-swiper uni-swiper-item:nth-child(8) .level-wrap[data-v-0c3fa770]{background:linear-gradient(90deg,#866ddb,#d49bfe)}.level-swiper uni-swiper-item:nth-child(9) .level-wrap[data-v-0c3fa770]{background:linear-gradient(90deg,#f1c74e,#f7dc81)}.level-swiper uni-swiper-item:nth-child(10) .level-wrap[data-v-0c3fa770]{background:linear-gradient(90deg,#418ccf,#9cc6f1)}.level-condition[data-v-0c3fa770]{margin:%?30?% %?26?%;background:#fff;padding:%?30?%;border-radius:%?10?%}.level-condition .condition-title[data-v-0c3fa770]{display:flex;align-items:center;justify-content:space-between}.level-condition .condition-title .title[data-v-0c3fa770]{font-size:%?32?%;font-weight:bolder;position:relative;padding-left:%?20?%;line-height:1}.level-condition .condition-title .title[data-v-0c3fa770]:before{content:" ";position:absolute;left:0;top:0;width:%?6?%;height:100%;background-color:var(--base-color);border-radius:%?4?%}.level-condition .rate .complete[data-v-0c3fa770]{color:#e7b667;font-size:%?26?%!important;font-weight:400!important}.level-condition .rate .num[data-v-0c3fa770]{color:#bbb;font-size:%?26?%!important;font-weight:400!important}.level-condition .task-item[data-v-0c3fa770]{padding:%?20?% %?30?%;background:#f8f8f8;border-radius:%?10?%;margin-top:%?30?%}.level-condition .task-item .flex-box[data-v-0c3fa770]{display:flex;align-items:center;justify-content:space-between}.level-condition .task-item .status[data-v-0c3fa770]{color:#999}.level-condition .task-item .status.complete[data-v-0c3fa770]{color:#000}.level-condition .task-item .title[data-v-0c3fa770]{font-weight:700}.level-condition .task-item .title .iconfont[data-v-0c3fa770]{font-size:%?28?%;color:#b7b7b7;margin-left:%?10?%}.level-condition .task-item .desc[data-v-0c3fa770]{color:#999;font-size:%?24?%}.level-condition .task-item .progress[data-v-0c3fa770]{margin:%?16?% 0}.level-condition .task-item .complete[data-v-0c3fa770]{font-size:%?24?%!important}.level-condition .task-item .num[data-v-0c3fa770]{font-size:%?24?%!important}.popup[data-v-0c3fa770]{width:100vw;background:#fff;border-top-left-radius:%?24?%;border-top-right-radius:%?24?%}.popup .popup-header[data-v-0c3fa770]{display:flex;border-bottom:%?2?% solid #eee;position:relative;padding:%?40?%}.popup .popup-header .tit[data-v-0c3fa770]{flex:1;font-size:%?32?%;line-height:1;text-align:center}.popup .popup-header .iconfont[data-v-0c3fa770]{line-height:1;position:absolute;right:%?30?%;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#909399;font-size:%?32?%}.popup .popup-body[data-v-0c3fa770]{height:calc(100% - %?250?%);padding:%?30?%}.popup .popup-body.store-popup[data-v-0c3fa770]{height:calc(100% - %?120?%)}.popup .popup-body.safe-area[data-v-0c3fa770]{height:calc(100% - %?270?%)}.popup .popup-body.store-popup.safe-area[data-v-0c3fa770]{height:calc(100% - %?140?%)}',""]),e.exports=t},e24b:function(e,t,i){"use strict";i.r(t);var a=i("e2c9"),o=i("3079");for(var n in o)["default"].indexOf(n)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(n);i("fa01"),i("4bce");var s=i("f0c5"),l=Object(s["a"])(o["default"],a["b"],a["c"],!1,null,"0c3fa770",null,!1,a["a"],void 0);t["default"]=l.exports},e2c9:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return n})),i.d(t,"a",(function(){return a}));var a={pageMeta:i("6d42").default,uniPopup:i("4e20").default,nsGoodsRecommend:i("42fc").default,loadingCover:i("ed27").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("page-meta",{attrs:{"page-style":e.themeColor}}),i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"level-top"},[i("v-uni-image",{attrs:{src:e.$util.img("public/uniapp/level/level-top-bg.png")}})],1),i("v-uni-swiper",{staticClass:"level-swiper",attrs:{autoplay:!1,duration:500,"previous-margin":"50rpx","next-margin":"50rpx",current:e.curr},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.swiperChange.apply(void 0,arguments)}}},e._l(e.levelList,(function(t,a){return i("v-uni-swiper-item",{key:a},[i("v-uni-view",{staticClass:"level-item",class:{curr:a==e.curr}},[i("v-uni-view",{staticClass:"level-wrap"},[i("v-uni-view",{staticClass:"member-info"},[i("v-uni-view",{staticClass:"head-img"},[i("v-uni-image",{attrs:{src:e.fenxiaoInfo.headimg?e.$util.img(e.fenxiaoInfo.headimg):e.$util.getDefaultImage().head,mode:"aspectFill"},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.fenxiaoInfo.headimg=e.$util.getDefaultImage().head}}})],1),i("v-uni-view",{staticClass:"nickname"},[e._v(e._s(e.fenxiaoInfo.nickname))]),i("v-uni-view",{staticClass:"level-name"},[e._v(e._s(t.level_name))])],1),i("v-uni-view",{staticClass:"level-rate"},[e.config.level>0?i("v-uni-view",{staticClass:"rate-item"},[i("v-uni-view",{staticClass:"title"},[e._v("一级分佣比率")]),i("v-uni-view",{staticClass:"rate"},[e._v(e._s(t.one_rate)),i("v-uni-text",{staticClass:"percentage"},[e._v("%")])],1)],1):e._e(),e.config.level>1?i("v-uni-view",{staticClass:"rate-item"},[i("v-uni-view",{staticClass:"title"},[e._v("二级分佣比率")]),i("v-uni-view",{staticClass:"rate"},[e._v(e._s(t.two_rate)),i("v-uni-text",{staticClass:"percentage"},[e._v("%")])],1)],1):e._e(),e.config.level>2?i("v-uni-view",{staticClass:"rate-item"},[i("v-uni-view",{staticClass:"title"},[e._v("三级分佣比率")]),i("v-uni-view",{staticClass:"rate"},[e._v(e._s(t.three_rate)),i("v-uni-text",{staticClass:"percentage"},[e._v("%")])],1)],1):e._e()],1),t.level_num>e.fenxiaoInfo.level_num?i("v-uni-view",{staticClass:"not-unlocked"},[i("v-uni-text",{staticClass:"iconfont icon-suoding"})],1):e._e()],1)],1)],1)})),1),e.levelInfo?i("v-uni-view",{staticClass:"level-condition"},[i("v-uni-view",{staticClass:"condition-title"},[i("v-uni-view",{staticClass:"title"},[e._v("快速升级技巧")]),i("v-uni-view",{staticClass:"rate price-font"},[i("v-uni-text",{staticClass:"complete"},[e._v(e._s(e.levelInfo.complete>e.levelInfo.task_num?e.levelInfo.task_num:e.levelInfo.complete))]),i("v-uni-text",{staticClass:"num"},[e._v("/"+e._s(e.levelInfo.task_num))])],1)],1),i("v-uni-view",{staticClass:"task"},e._l(e.levelInfo.task,(function(t,a){return i("v-uni-view",{key:a,staticClass:"task-item"},[i("v-uni-view",{staticClass:"flex-box"},[i("v-uni-view",{staticClass:"title"},[e._v(e._s(t.title)),i("v-uni-text",{staticClass:"iconfont icon-wenxiao",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.openTips(t)}}})],1),i("v-uni-view",{staticClass:"status",class:{complete:100==t.progress}},[e._v(e._s(100==t.progress?"已完成":"未完成"))])],1),i("v-uni-view",{staticClass:"progress"},[i("v-uni-progress",{attrs:{percent:t.progress,activeColor:"#E7B667","stroke-width":"4"}})],1),i("v-uni-view",{staticClass:"flex-box"},[i("v-uni-view",{staticClass:"desc"},[e._v(e._s(t.desc))]),i("v-uni-view",{staticClass:"rate price-font"},[i("v-uni-text",{staticClass:"complete"},[e._v(e._s(t.value))]),i("v-uni-text",{staticClass:"num"},[e._v("/"+e._s(t.condition))])],1)],1)],1)})),1)],1):e._e(),i("uni-popup",{ref:"tips",attrs:{type:"bottom"}},[i("v-uni-view",{staticClass:"popup"},[i("v-uni-view",{staticClass:"popup-header"},[i("v-uni-text",{staticClass:"tit"},[e._v("提示")]),i("v-uni-text",{staticClass:"iconfont icon-close",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$refs.tips.close()}}})],1),i("v-uni-view",{staticClass:"popup-body"},[i("v-uni-view",[e._v(e._s(e.tips))]),e.levelInfo?i("v-uni-view",[e._v(e._s(1==e.levelInfo.upgrade_type?"满足任意一条件即可升级":"满足全部条件才能进行升级"))]):e._e()],1)],1)],1),i("ns-goods-recommend",{attrs:{route:"fenxiao_level"}}),i("loading-cover",{ref:"loadingCover"})],1)],1)},n=[]},e8a7:function(e,t,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("acd8"),i("14d9"),i("d3b7"),i("159b");var o=a(i("8a51")),n={data:function(){return{fenxiaoInfo:{condition:{last_level:null}},config:{},levelList:[],curr:0,tips:""}},mixins:[o.default],computed:{levelInfo:function(){if(this.levelList.length){var e=this.levelList[this.curr];if(e.task=[],e.complete=0,e.one_fenxiao_order_num>0){var t={title:"下级消费",desc:"下级消费单数满"+e.one_fenxiao_order_num+"单",tips:"分销商自己购买和自己推荐的直属会员购买的订单次数",condition:e.one_fenxiao_order_num,value:this.fenxiaoInfo.one_fenxiao_order_num,progress:parseFloat(this.fenxiaoInfo.one_fenxiao_order_num)>parseFloat(e.one_fenxiao_order_num)?100:(parseFloat(this.fenxiaoInfo.one_fenxiao_order_num)/parseFloat(e.one_fenxiao_order_num)*100).toFixed(2)};100==t.progress&&(e.complete+=1),e.task.push(t)}if(e.one_fenxiao_total_order>0){var i={title:"下级消费",desc:"下级消费金额满"+this.moneyFormat(e.one_fenxiao_total_order)+"元",tips:"分销商自己购买和推荐的直属会员购买的订单的总额",condition:this.moneyFormat(e.one_fenxiao_total_order),value:this.fenxiaoInfo.one_fenxiao_total_order,progress:parseFloat(this.fenxiaoInfo.one_fenxiao_total_order)>parseFloat(e.one_fenxiao_total_order)?100:(parseFloat(this.fenxiaoInfo.one_fenxiao_total_order)/parseFloat(e.one_fenxiao_total_order)*100).toFixed(2)};100==i.progress&&(e.complete+=1),e.task.push(i)}if(e.one_fenxiao_order_money>0){var a={title:"下级消费",desc:"下级消费产生佣金总额满"+this.moneyFormat(e.one_fenxiao_order_money)+"元",tips:"分销商自己购买和自己推荐的直属会员购买的订单佣金总额",condition:this.moneyFormat(e.one_fenxiao_order_money),value:this.fenxiaoInfo.one_fenxiao_order_money,progress:parseFloat(this.fenxiaoInfo.one_fenxiao_order_money)>parseFloat(e.one_fenxiao_order_money)?100:(parseFloat(this.fenxiaoInfo.one_fenxiao_order_money)/parseFloat(e.one_fenxiao_order_money)*100).toFixed(2)};100==a.progress&&(e.complete+=1),e.task.push(a)}if(e.order_num>0){var o={title:"自身消费",desc:"自身消费单数满"+e.order_num+"单",tips:"分销商自己购买的订单次数",condition:e.order_num,value:this.fenxiaoInfo.order_num,progress:parseFloat(this.fenxiaoInfo.order_num)>parseFloat(e.order_num)?100:(parseFloat(this.fenxiaoInfo.order_num)/parseFloat(e.order_num)*100).toFixed(2)};100==o.progress&&(e.complete+=1),e.task.push(o)}if(e.order_money>0){var n={title:"自身消费",desc:"自身消费金额满"+this.moneyFormat(e.order_money)+"元",tips:"分销商自己购买的订单总额",condition:this.moneyFormat(e.order_money),value:this.fenxiaoInfo.order_money,progress:parseFloat(this.fenxiaoInfo.order_money)>parseFloat(e.order_money)?100:(parseFloat(this.fenxiaoInfo.order_money)/parseFloat(e.order_money)*100).toFixed(2)};100==n.progress&&(e.complete+=1),e.task.push(n)}if(e.one_child_num>0){var s={title:"邀请好友",desc:"邀请好友人数达到"+e.one_child_num+"人",tips:"分销商的直属下级会员人数（包含已经申请成为分销商的）",condition:e.one_child_num,value:this.fenxiaoInfo.one_child_num,progress:parseFloat(this.fenxiaoInfo.one_child_num)>parseFloat(e.one_child_num)?100:(parseFloat(this.fenxiaoInfo.one_child_num)/parseFloat(e.one_child_num)*100).toFixed(2)};100==s.progress&&(e.complete+=1),e.task.push(s)}if(e.one_child_fenxiao_num>0){var l={title:"邀请好友",desc:"邀请好友成为分销商人数达到"+e.one_child_fenxiao_num+"人",tips:"分销商的直属下级分销商人数",condition:e.one_child_fenxiao_num,value:this.fenxiaoInfo.one_child_fenxiao_num,progress:parseFloat(this.fenxiaoInfo.one_child_fenxiao_num)>parseFloat(e.one_child_fenxiao_num)?100:(parseFloat(this.fenxiaoInfo.one_child_fenxiao_num)/parseFloat(e.one_child_fenxiao_num)*100).toFixed(2)};100==l.progress&&(e.complete+=1),e.task.push(l)}return e.task_num=1==e.upgrade_type?1:e.task.length,e}}},onLoad:function(){},onShow:function(){var e=this;setTimeout((function(){if(e.addonIsExist&&!e.addonIsExist.fenxiao)return e.$util.showToast({title:"商家未开启分销",mask:!0,duration:2e3}),void setTimeout((function(){e.$util.redirectTo("/pages/index/index")}),2e3)}),1e3),this.fenxiaoWords&&this.fenxiaoWords.fenxiao_name&&this.$langConfig.title(this.fenxiaoWords.fenxiao_name+"等级"),uni.getStorageSync("token")?(this.getFenxiaoInfo(),this.getBasicsConfig()):this.$util.redirectTo("/pages_tool/login/login",{back:"/pages_promotion/fenxiao/level"})},methods:{getFenxiaoLevel:function(){var e=this;this.$api.sendRequest({url:"/fenxiao/api/Level/lists",success:function(t){0==t.code&&t.data&&(e.levelList=t.data,e.levelList.forEach((function(t,i){t.level_id==e.fenxiaoInfo.level_id&&(e.curr=i)})))}})},getFenxiaoInfo:function(){var e=this;this.$api.sendRequest({url:"/fenxiao/api/fenxiao/detail",success:function(t){e.$refs.loadingCover&&e.$refs.loadingCover.hide(),t.code>=0&&t.data?(e.fenxiaoInfo=t.data,e.curr=e.fenxiaoInfo.level_num,e.getFenxiaoLevel()):e.$util.redirectTo("/pages_promotion/fenxiao/apply")},fail:function(){e.$refs.loadingCover&&e.$refs.loadingCover.hide()}})},getBasicsConfig:function(){var e=this;this.$api.sendRequest({url:"/fenxiao/api/config/basics",success:function(t){t.code>=0&&(e.config=t.data)}})},swiperChange:function(e){this.curr=e.detail.current},moneyFormat:function(e){return isNaN(parseFloat(e))?e:parseFloat(e).toFixed(2)},openTips:function(e){this.tips=e.tips,this.$refs.tips.open()}}};t.default=n},fa01:function(e,t,i){"use strict";var a=i("3bad"),o=i.n(a);o.a},fb58:function(e,t,i){var a=i("24fb");t=a(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n */[data-v-0c3fa770] .uni-popup__wrapper.uni-custom .uni-popup__wrapper-box{background:none;max-height:unset!important;overflow-y:hidden!important}[data-v-0c3fa770] .uni-popup__wrapper{border-radius:%?20?% %?20?% 0 0}[data-v-0c3fa770] .uni-popup{z-index:8}',""]),e.exports=t}}]);