(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_promotion-fenxiao-team"],{"00d9f":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/**\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n */.team-cate[data-v-6d6db400]{padding:0 %?30?%;width:calc(100%);height:%?90?%;display:flex;box-sizing:border-box;background:#fff;position:fixed;left:0;top:var(--window-top)}.team-cate .cate-li[data-v-6d6db400]{flex:1;display:flex;justify-content:center;text-align:center;align-items:center;display:inline-block;line-height:%?90?%;height:100%;font-size:%?30?%;text-align:center}.team-cate .cate-li.active[data-v-6d6db400]{box-sizing:border-box;border-bottom:%?4?% solid}.team-member[data-v-6d6db400]{width:100%;height:%?70?%;line-height:%?70?%;color:#909399;padding:0 %?20?%;box-sizing:border-box}.team-li[data-v-6d6db400]{margin:%?20?% %?30?%;padding:%?30?%;box-sizing:border-box;background:#fff;margin-bottom:%?20?%;border-radius:%?10?%}.team-li .li-box[data-v-6d6db400]{display:flex;box-sizing:border-box;align-items:center}.team-li .li-box uni-image[data-v-6d6db400]{width:%?90?%;height:%?90?%;border-radius:50%}.team-li .li-box .member-info[data-v-6d6db400]{flex:1;padding-left:%?20?%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:center}.team-li .li-box .member-info .member-name[data-v-6d6db400]{display:flex;justify-content:space-between;align-items:center;font-size:%?28?%}.team-li .li-box .member-info .member-name .left[data-v-6d6db400]{width:0;flex:1}.team-li .li-box .member-info .member-name .left .flex-box[data-v-6d6db400]{display:flex;align-items:center;margin-bottom:%?6?%}.team-li .li-box .member-info .member-name .left .name[data-v-6d6db400]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.team-li .li-box .member-info .member-name .left .title[data-v-6d6db400]{padding:%?4?% %?16?%;justify-content:center;align-items:center;text-align:center;font-size:%?20?%;border-radius:%?4?%;margin-left:%?10?%;line-height:1;border:%?2?% solid;color:#fff}.team-li .li-box .member-info .member-name .consume-info[data-v-6d6db400]{text-align:right}.team-li .li-box .member-info .member-name .consume-info uni-text[data-v-6d6db400]{margin-right:%?6?%}.team-li .li-box .member-info .member-name .consume-info uni-view[data-v-6d6db400]{line-height:1.5;font-size:%?24?%}.team-li .li-box .member-info .member-date[data-v-6d6db400]{display:flex;justify-content:space-between;align-items:center;margin-top:%?20?%}.team-li .li-box .member-info .member-date uni-view[data-v-6d6db400]{width:50%;height:100%;text-align:left;line-height:1}.team-li .li-box .member-info .member-date uni-view uni-text[data-v-6d6db400]{font-size:%?24?%;color:#909399}.team-li .li-box .member-info .member-date uni-view .tit[data-v-6d6db400]{color:#909399}.team-li .li-box .btn-see[data-v-6d6db400]{display:flex;flex-direction:row-reverse}.team-li .order-box-btn[data-v-6d6db400]{display:inline-block;line-height:%?56?%;padding:0 %?30?%;font-size:%?26?%;color:#303133;border:%?2?% solid #999;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-border-radius:%?10?%;border-radius:%?10?%;margin-top:%?30?%}.team-li .li-box.active[data-v-6d6db400]{border:none}',""]),e.exports=t},"013c":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("c975"),i("a9e3"),i("ac1f"),i("5319"),i("acd8");var n={type:"scrolldone",target:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},currentTarget:{id:"",offsetLeft:0,offsetTop:0,dataset:{}},detail:{}},o={props:{backgroundTextStyle:{type:String,default:"dark",validator:function(e){return-1!==["dark","light"].indexOf(e)}},backgroundColor:{type:String,default:"#ffffff"},backgroundColorTop:{type:String,default:"#ffffff"},backgroundColorBottom:{type:String,default:"#ffffff"},scrollTop:{type:String,default:""},scrollDuration:{type:Number,default:300},pageStyle:{type:String,default:""},enablePullDownRefresh:{type:[Boolean,String],default:!1},rootFontSize:{type:String,default:""}},created:function(){var e=this,t=getCurrentPages()[0];this.$pageVm=t.$vm||t,uni.onWindowResize((function(t){e.$emit("resize",t)})),this.$pageVm.$on("hook:onPageScroll",(function(t){e.$emit("scroll",t)})),this.$watch("backgroundTextStyle",(function(){e.setBackgroundTextStyle()})),this.$watch((function(){return[e.rootFontSize,e.pageStyle]}),(function(){e.setPageMeta()})),this.$watch((function(){return[e.backgroundColor,e.backgroundColorTop,e.backgroundColorBottom]}),(function(){e.setBackgroundColor()})),this.$watch((function(){return[e.scrollTop,e.scrollDuration]}),(function(){e.pageScrollTo()}))},beforeMount:function(){this.setBackgroundColor(),(this.rootFontSize||this.pageStyle)&&this.setPageMeta(),this.backgroundTextStyle&&this.setBackgroundTextStyle()},mounted:function(){this.scrollTop&&this.pageScrollTo()},methods:{setPullDownRefresh:function(e,t){e.setStyle({pullToRefresh:{support:t,style:"Android"===plus.os.name?"circle":"default"}})},setPageMeta:function(){uni.setPageMeta({pageStyle:this.pageStyle,rootFontSize:this.rootFontSize})},setBackgroundTextStyle:function(){},setBackgroundColor:function(){},pageScrollTo:function(){var e=this,t=String(this.scrollTop);if(-1!==t.indexOf("rpx")&&(t=uni.upx2px(t.replace("rpx",""))),t=parseFloat(t),!isNaN(t)){var i=function i(o){o.scrollTop===t&&(e.$pageVm.$off("hook:onPageScroll",i),e.$emit("scrolldone",n))};uni.pageScrollTo({scrollTop:t,duration:this.scrollDuration,success:function(){e.$pageVm.$on("hook:onPageScroll",i)}})}}}};t.default=o},"2bd8":function(e,t,i){"use strict";i.r(t);var n=i("f77a"),o=i("4a75");for(var a in o)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(a);i("7ec7");var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,"6d6db400",null,!1,n["a"],void 0);t["default"]=s.exports},"4a75":function(e,t,i){"use strict";i.r(t);var n=i("80bb"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},"6d42":function(e,t,i){"use strict";i.r(t);var n=i("6ee6"),o=i("8f28");for(var a in o)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return o[e]}))}(a);var r=i("f0c5"),s=Object(r["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=s.exports},"6ee6":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return o})),i.d(t,"a",(function(){}));var n=function(){var e=this.$createElement,t=this._self._c||e;return t("v-uni-view",{staticStyle:{display:"none"}},[this._t("default")],2)},o=[]},"7ec7":function(e,t,i){"use strict";var n=i("8eaa"),o=i.n(n);o.a},"80bb":function(e,t,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(i("c7eb")),a=n(i("1da1"));i("99af");var r=n(i("8a51")),s={data:function(){return{levelList:[{name:"一级",level:1},{name:"二级",level:2}],currentLevel:1,teamList:[],emptyShow:!1,levelNum:0,token:null}},mixins:[r.default],onShow:function(){var e=this;setTimeout((function(){if(e.addonIsExist&&!e.addonIsExist.fenxiao)return e.$util.showToast({title:"商家未开启分销",mask:!0,duration:2e3}),void setTimeout((function(){e.$util.redirectTo("/pages/index/index")}),2e3)}),1e3),this.fenxiaoWords&&this.fenxiaoWords.my_team&&this.$langConfig.title(this.fenxiaoWords.my_team),this.getFenXiaoLevel(),uni.getStorageSync("token")?this.token=uni.getStorageSync("token"):setTimeout((function(){e.$refs.login.open("/pages_promotion/fenxiao/team")}))},methods:{getData:function(e){var t=this;this.emptyShow=!1,1==e.num&&(this.teamList=[]),this.$api.sendRequest({url:"/fenxiao/api/fenxiao/team",data:{page_size:e.size,page:e.num,level:this.currentLevel},success:function(i){t.emptyShow=!0;var n=[],o=i.message;0==i.code&&i.data?n=i.data.list:t.$util.showToast({title:o}),e.endSuccess(n.length),1==e.num&&(t.teamList=[]),t.teamList=t.teamList.concat(n),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(i){e.endErr(),t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})},imageError:function(e){this.teamList[e].headimg=this.$util.getDefaultImage().head,this.$forceUpdate()},selectLevel:function(e){this.currentLevel=e,this.$refs.mescroll.refresh()},toFenxiaoOrder:function(e){e.fenxiao_id?this.$util.redirectTo("/pages_promotion/fenxiao/relation",{fenxiao_id:e.fenxiao_id}):this.$util.redirectTo("/pages_promotion/fenxiao/relation",{sub_member_id:e.member_id})},getFenXiaoLevel:function(){var e=this;return(0,a.default)((0,o.default)().mark((function t(){var i;return(0,o.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.sendRequest({url:"/fenxiao/api/config/basics",async:!1,success:function(e){}});case 2:i=t.sent,0==i.code&&i.data&&(e.levelNum=i.data.level);case 4:case"end":return t.stop()}}),t)})))()}},watch:{storeToken:function(e,t){e&&(this.token=e,this.$refs.mescroll.refresh())}}};t.default=s},"8a51":function(e,t,i){"use strict";i("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{fenxiaoWords:{}}},methods:{getFenxiaoWrods:function(){var e=this;this.$api.sendRequest({url:"/fenxiao/api/config/words",success:function(t){t.code>=0&&t.data&&(e.fenxiaoWords=t.data,uni.setStorageSync("fenxiaoWords",t.data))}})}},onShow:function(){uni.getStorageSync("fenxiaoWords")&&(this.fenxiaoWords=uni.getStorageSync("fenxiaoWords")),this.getFenxiaoWrods()}};t.default=n},"8eaa":function(e,t,i){var n=i("00d9f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("4f06").default;o("3f60b133",n,!0,{sourceMap:!1,shadowMode:!1})},"8f28":function(e,t,i){"use strict";i.r(t);var n=i("013c"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=o.a},f77a:function(e,t,i){"use strict";i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}));var n={pageMeta:i("6d42").default,nsEmpty:i("7fc0").default,nsLogin:i("3423").default,loadingCover:i("ed27").default},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("page-meta",{attrs:{"page-style":e.themeColor}}),i("v-uni-view",[e.token&&e.levelNum>1?i("v-uni-view",{staticClass:"team-cate"},[e._l(e.levelList,(function(t,n){return[i("v-uni-view",{key:n+"_0",staticClass:"cate-li",class:{"active color-base-text color-base-border":e.currentLevel==t.level},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.selectLevel(t.level)}}},[e._v(e._s(t.name))])]}))],2):e._e(),e.token?i("mescroll-uni",{ref:"mescroll",staticClass:"member-point",attrs:{top:e.levelNum>1?90:0,size:8},on:{getData:function(t){arguments[0]=t=e.$handleEvent(t),e.getData.apply(void 0,arguments)}}},[i("template",{attrs:{slot:"list"},slot:"list"},[e._l(e.teamList,(function(t,n){return 0!=e.teamList.length?i("v-uni-view",{key:n,staticClass:"team-li",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.toFenxiaoOrder(t)}}},[i("v-uni-view",{staticClass:"li-box",class:{active:n+1==e.teamList.length}},[t.headimg?i("v-uni-image",{attrs:{src:e.$util.img(t.headimg),mode:"aspectFill"},on:{error:function(t){arguments[0]=t=e.$handleEvent(t),e.imageError(n)}}}):i("v-uni-image",{attrs:{src:e.$util.getDefaultImage().head}}),i("v-uni-view",{staticClass:"member-info"},[i("v-uni-view",{staticClass:"member-name"},[t.is_fenxiao?[i("v-uni-view",{staticClass:"left"},[i("v-uni-view",{staticClass:"flex-box"},[i("v-uni-view",{staticClass:"name"},[e._v(e._s(t.nickname))]),i("v-uni-view",{staticClass:"title color-base-border color-base-text"},[e._v(e._s(e.fenxiaoWords.fenxiao_name))])],1),i("v-uni-view",{staticClass:"color-tip font-size-goods-tag"},[e._v("加入时间："+e._s(e.$util.timeStampTurnTime(t.bind_fenxiao_time).substring(0,10)))])],1),i("v-uni-view",{staticClass:"consume-info"},[i("v-uni-view",[i("v-uni-text",[e._v(e._s(t.one_child_num))]),e._v("人")],1),i("v-uni-view",[i("v-uni-text",[e._v(e._s(t.order_num))]),e._v("单")],1),i("v-uni-view",[i("v-uni-text",[e._v(e._s(e._f("moneyFormat")(t.order_money)))]),e._v("元")],1)],1)]:[i("v-uni-view",{staticClass:"left"},[i("v-uni-view",{staticClass:"flex-box"},[i("v-uni-view",{staticClass:"name font-size-tag"},[i("v-uni-text",[e._v(e._s(t.nickname))])],1)],1),i("v-uni-view",{staticClass:"color-tip font-size-goods-tag"},[e._v("加入时间："+e._s(e.$util.timeStampTurnTime(t.bind_fenxiao_time).substring(0,10)))])],1),i("v-uni-view",{staticClass:"consume-info"},[i("v-uni-view",[i("v-uni-text",[e._v("0")]),e._v("人")],1),i("v-uni-view",[i("v-uni-text",[e._v(e._s(t.order_num))]),e._v("单")],1),i("v-uni-view",[i("v-uni-text",[e._v(e._s(e._f("moneyFormat")(t.order_money)))]),e._v("元")],1)],1)]],2)],1)],1)],1):e._e()})),0==e.teamList.length&&e.emptyShow?[i("ns-empty",{attrs:{text:"暂无数据",isIndex:!1}})]:e._e()],2)],2):e._e(),i("ns-login",{ref:"login"}),i("loading-cover",{ref:"loadingCover"})],1)],1)},a=[]}}]);