(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages_tool-member-level_growth_rules"],{"110d":function(t,e,i){"use strict";i.r(e);var a=i("fa19"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"4a14":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={pageMeta:i("6d42").default,loadingCover:i("ed27").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("page-meta",{attrs:{"page-style":t.themeColor}}),i("v-uni-view",{staticClass:"member-level"},[i("v-uni-view",{staticClass:"grow-explain"},[i("v-uni-view",{staticClass:"explain-title"},[i("v-uni-image",{attrs:{src:t.$util.img("public/uniapp/level/growth_that_left.png"),mode:"aspectFit"}}),t._v("成长值说明"),i("v-uni-image",{attrs:{src:t.$util.img("public/uniapp/level/growth_that_right.png"),mode:"aspectFit"}})],1),i("v-uni-view",{staticClass:"explain-table"},[i("v-uni-view",{staticClass:"explain-tr"},[i("v-uni-text",{staticClass:"explain-th"},[t._v("等级")]),i("v-uni-text",{staticClass:"explain-th"},[t._v("成长值")])],1),t._l(t.levelList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"explain-tr"},[i("v-uni-text",{staticClass:"explain-td"},[t._v(t._s(e.level_name))]),i("v-uni-text",{staticClass:"explain-td"},[t._v(t._s(e.growth))])],1)}))],2)],1),i("v-uni-view",{staticClass:"grow-value"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-image",{attrs:{src:t.$util.img("public/uniapp/level/explain.png"),mode:"aspectFit"}}),i("v-uni-text",[t._v("什么是成长值")])],1),i("v-uni-view",{staticClass:"content color-tip"},[t._v("成长值是消费者在店铺成为会员后，通过消费计算出来的值。成长值决定会员等级，会员等级越高，所享受的会员权益和会员礼包就越多。")])],1),i("v-uni-view",{staticClass:"acquisition-grow"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-image",{attrs:{src:t.$util.img("public/uniapp/level/explain.png"),mode:"aspectFit"}}),i("v-uni-text",[t._v("如何获得成长值")])],1),i("v-uni-view",{staticClass:"content color-tip"},[i("v-uni-text",[t._v("1、注册会员送x成长值。")]),i("v-uni-text",[t._v("2、会员充值到余额送x成长值。")]),i("v-uni-text",[t._v("3、会员签到送x成长值。")]),i("v-uni-text",[t._v("4、会员消费x元，交易完成即可获得x个成长值。")])],1)],1),t.showTop?i("to-top",{on:{toTop:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollToTopNative()}}}):t._e(),i("loading-cover",{ref:"loadingCover"})],1)],1)},o=[]},"611b":function(t,e,i){"use strict";var a=i("dcc4"),n=i.n(a);n.a},8541:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n * 建议使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n */uni-page-body[data-v-66c96254]{background-color:#fff}body.?%PAGE?%[data-v-66c96254]{background-color:#fff}.grow-explain[data-v-66c96254]{padding:%?30?%;margin-top:%?30?%}.grow-explain .explain-title[data-v-66c96254]{display:flex;align-items:center;justify-content:center;line-height:1;margin-bottom:%?40?%}.grow-explain .explain-title uni-image[data-v-66c96254]{margin:0 %?20?%;width:%?54?%;height:%?18?%}.grow-explain .explain-tr[data-v-66c96254]{display:flex}.grow-explain .explain-th[data-v-66c96254]{padding:%?10?% %?30?%;flex:1;background-color:#f6f1e4}.grow-explain .explain-th ~ .explain-th[data-v-66c96254]{border-left:%?4?% solid #fff}.grow-explain .explain-td[data-v-66c96254]{padding:%?10?% %?30?%;height:%?60?%;line-height:%?60?%;flex:1;background-color:#fcfbf7}.grow-explain .explain-td ~ .explain-td[data-v-66c96254]{border-left:%?4?% solid #fff}.grow-value[data-v-66c96254],\n.acquisition-grow[data-v-66c96254]{padding:0 %?30?% %?30?%}.grow-value .title[data-v-66c96254],\n.acquisition-grow .title[data-v-66c96254]{display:flex;align-items:center}.grow-value .title uni-image[data-v-66c96254],\n.acquisition-grow .title uni-image[data-v-66c96254]{width:%?30?%;height:%?30?%;margin-right:%?10?%}.grow-value .content[data-v-66c96254],\n.acquisition-grow .content[data-v-66c96254]{font-size:%?24?%;margin-left:%?40?%}.grow-value .content uni-text[data-v-66c96254],\n.acquisition-grow .content uni-text[data-v-66c96254]{display:block}',""]),t.exports=e},a62c:function(t,e,i){"use strict";i.r(e);var a=i("4a14"),n=i("110d");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("611b");var r=i("f0c5"),l=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"66c96254",null,!1,a["a"],void 0);e["default"]=l.exports},dcc4:function(t,e,i){var a=i("8541");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("59277aca",a,!0,{sourceMap:!1,shadowMode:!1})},fa19:function(t,e,i){"use strict";i("7a82");var a=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a9e3"),i("d3b7"),i("159b");var n=a(i("1cec")),o=a(i("bfdd")),r=a(i("c92f")),l={components:{nsProgress:n.default,toTop:o.default},mixins:[r.default],data:function(){return{curIndex:0,descIndex:0,isDescAnimating:!1,scaleX:(634/540).toFixed(4),scaleY:(378/330).toFixed(4),swiperConfig:{indicatorDots:!1,indicatorColor:"rgba(255, 255, 255, .4)",indicatorActiveColor:"rgba(255, 255, 255, 1)",interval:3e3,duration:300,circular:!1,previousMargin:"58rpx",nextMargin:"58rpx"},levelList:[{needGrowth:0,growth:0}],levelId:0,growth:0,nowIndex:0,userInfo:{},rule:[]}},computed:{listLen:function(){return this.levelList.length}},onLoad:function(){this.getLevelList(),this.getLevelRule()},onShow:function(){},filters:{rate:function(t,e,i){var a=Number(i),n=Number(e[t].growth);if(t==e.length-1)return a>n?100:0;var o=Number(e[t+1].growth),r=a-n,l=o-n,s=Math.floor(r/l*100);return s>100?100:s}},methods:{swiperChange:function(t){var e=this;this.curIndex=t.detail.current,this.isDescAnimating=!0;var i=setTimeout((function(){e.descIndex=t.detail.current,clearTimeout(i)}),150)},animationfinish:function(t){this.isDescAnimating=!1},getBannerDetail:function(t){uni.showLoading({title:"将前往详情页面",duration:2e3,mask:!0})},getLevelList:function(){var t=this;this.$api.sendRequest({url:"/api/memberlevel/lists",success:function(e){e.data&&0==e.code?(t.levelList=e.data,t.getMemberInfo()):(t.$util.showToast({title:e.message}),t.$refs.loadingCover&&t.$refs.loadingCover.hide())}})},getLevelRule:function(){var t=this;this.$api.sendRequest({url:"/api/member/accountrule",success:function(e){0==e.code&&e.data&&e.data.growth&&(t.rule=e.data.growth)}})},getMemberInfo:function(){var t=this;this.$api.sendRequest({url:"/api/member/info",success:function(e){e.data&&0==e.code?(t.levelId=e.data.member_level,t.growth=e.data.growth,t.userInfo=e.data,t.levelList.forEach((function(i,a){if(i.level_id==e.data.member_level)return t.curIndex=a,t.descIndex=a,void(t.nowIndex=a)})),t.levelList.forEach((function(e,i){var a=0;i!=t.levelList.length-1?(e.needGrowth=Number(t.levelList[i+1].growth)-Number(t.growth),a=e.needGrowth<=0?100:100*(t.growth/t.levelList[i+1].growth).toFixed(2)):(e.needGrowth=Number(t.levelList[i].growth)-Number(t.growth),a=e.needGrowth<=0?100:100*(t.growth/t.levelList[i].growth).toFixed(2)),e.rate=a})),t.levelList.forEach((function(t){t.consume_discount&&(t.consume_discount=(t.consume_discount/10).toFixed(2))}))):t.$util.showToast({title:e.message}),t.$refs.loadingCover&&t.$refs.loadingCover.hide()},fail:function(e){t.$refs.loadingCover&&t.$refs.loadingCover.hide()}})}}};e.default=l}}]);